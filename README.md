# csci572-homework-4-comparing-search-engine-ranking-algorithms-objectives-solved
**TO GET THIS SOLUTION VISIT:** [CSCI572 Homework 4-Comparing Search Engine Ranking Algorithms Objectives Solved](https://www.ankitcodinghub.com/product/csci572-homework-4-comparing-search-engine-ranking-algorithms-objectives-solved/)


---

üì© **If you need this solution or have special requests:** **Email:** ankitcoding@gmail.com  
üì± **WhatsApp:** +1 419 877 7882  
üìÑ **Get a quote instantly using this form:** [Ask Homework Questions](https://www.ankitcodinghub.com/services/ask-homework-questions/)

*We deliver fast, professional, and affordable academic help.*

---

<h2>Description</h2>



<div class="kk-star-ratings kksr-auto kksr-align-center kksr-valign-top" data-payload="{&quot;align&quot;:&quot;center&quot;,&quot;id&quot;:&quot;91239&quot;,&quot;slug&quot;:&quot;default&quot;,&quot;valign&quot;:&quot;top&quot;,&quot;ignore&quot;:&quot;&quot;,&quot;reference&quot;:&quot;auto&quot;,&quot;class&quot;:&quot;&quot;,&quot;count&quot;:&quot;0&quot;,&quot;legendonly&quot;:&quot;&quot;,&quot;readonly&quot;:&quot;&quot;,&quot;score&quot;:&quot;0&quot;,&quot;starsonly&quot;:&quot;&quot;,&quot;best&quot;:&quot;5&quot;,&quot;gap&quot;:&quot;4&quot;,&quot;greet&quot;:&quot;Rate this product&quot;,&quot;legend&quot;:&quot;0\/5 - (0 votes)&quot;,&quot;size&quot;:&quot;24&quot;,&quot;title&quot;:&quot;CSCI572 Homework 4-Comparing Search Engine Ranking Algorithms Objectives Solved&quot;,&quot;width&quot;:&quot;0&quot;,&quot;_legend&quot;:&quot;{score}\/{best} - ({count} {votes})&quot;,&quot;font_factor&quot;:&quot;1.25&quot;}">

<div class="kksr-stars">

<div class="kksr-stars-inactive">
            <div class="kksr-star" data-star="1" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" data-star="2" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" data-star="3" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" data-star="4" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" data-star="5" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
    </div>

<div class="kksr-stars-active" style="width: 0px;">
            <div class="kksr-star" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
            <div class="kksr-star" style="padding-right: 4px">


<div class="kksr-icon" style="width: 24px; height: 24px;"></div>
        </div>
    </div>
</div>


<div class="kksr-legend" style="font-size: 19.2px;">
            <span class="kksr-muted">Rate this product</span>
    </div>
    </div>
<div class="page" title="Page 1">
<div class="layoutArea">
<div class="column">
Homework 4: Comparing Search Engine Ranking Algorithms Objectives:

o Experience using Solr

o Investigating ranking strategies

Preparation

In this exercise you will use the Apache Solr software to import a set of web pages and investigate different ranking strategies. Solr can be installed on Unix or Windows machines. However, it is much easier to run Solr on a Unix computer. Therefore, we have provided instructions for installing an implementation of Unix, called Ubuntu, on a Windows computer. For details see

http://csci572.com/2020Spring/hw4/UbuntuVirtualBoxFinal.pdf

Once Ubuntu is successfully installed, or if you are using a Mac or some other Unix computer, you can then follow the instructions for installing Solr directly, which can be found here

http://lucene.apache.org/solr/quickstart.html

The above instructions are for solr-7.X.X.zip. You can either download the latest version of the file (8.0.x) from

http://lucene.apache.org/solr/mirrors-solr-latest-redir.html

or download the version used by our examples (solr-7.7.0.zip) from here

http://archive.apache.org/dist/lucene/solr/7.7.0/

Once Solr is installed you need to learn how to index the web pages that you saved. Instructions for doing this can be found here.

http://csci572.com/2020Spring/hw4/IndexingwithTIKAV3.pdf

[Note that, we will use the Solr in standalone mode for this assignment. You should start solr using command $ bin/solr start ]

Solr provides a simple user interface that you can use to explore your indexed web pages.

Description of the Exercise

Step 1. Now that you have some basic understanding about indexing using Solr. you can start indexing the web pages that are provided for you. You can download them from

https://drive.google.com/drive/folders/14qtJywCRk00wEbmt-Pv3efyPIBqwcoZr

</div>
</div>
<div class="layoutArea">
<div class="column">
The news sites for this exercise are: NY Times, Fox News, and Los Angeles Times. You should download the folder for the news site that is assigned to you based on your USC ID.

</div>
</div>
<div class="layoutArea">
<div class="column">
1

</div>
</div>
</div>
<div class="page" title="Page 2">
<div class="layoutArea">
<div class="column">
Note: the website you use for HW#4 may be different from the one you used for HW#2

You should index only the news websites assigned to you.

</div>
</div>
<div class="layoutArea">
<div class="column">
USC ID ends with

<pre>     01~30
     31~60
     61~00
</pre>
</div>
<div class="column">
News Sites to Crawl

NY Times

Fox News

Los Angeles Times

</div>
<div class="column">
NewsSite Root URL Name

nytimes https://www.nytimes.com foxnews https://www.foxnews.com latimes https://www.latimes.com

</div>
</div>
<div class="layoutArea">
<div class="column">
For each news website there is a folder that contains a set of html files downloaded from the news site and a mapping file for each news site. The mapping file contains a mapping between filenames (e.g.

) that is used to save the html webpages and their URL (e.g. ). You should download all the html files from the website to a

single folder and index these pages using Solr.

Once your set up is complete you need to have access to a web server that can deliver web pages and run scripts. Using this web server, you will create a web page with a text box which a user can retrieve and then enter a query. The user‚Äôs query will be processed by a program at your web server which formats the query and sends it to Solr. Solr will process the query and return some results in JSON format. A program on your web server will re-format the results and present them to the user as any search engine would do. Results should be clickable (i.e. open the actual web page on the internet). See ahead for a description of the queries you should use.

Below is a rough outline for how you could structure your solution to the exercise. All three elements: web browser, web server, and Solr would be located on your laptop. Your web server might be the Apache web server coupled with the PhP programming language. An alternative solution would be to use node.js as the server/programming component. In the case of node.js, the programming language is JavaScript. Whatever you use, your program would send the query to Solr and process the results returned by Solr.

</div>
</div>
<div class="layoutArea">
<div class="column">
0a1d42d7-8b2c-499c-b91a-a7184dc79356.html

</div>
</div>
<div class="layoutArea">
<div class="column">
https://www.guardiannews.com/

</div>
</div>
<div class="layoutArea">
<div class="column">
User‚Äôs web browser

</div>
<div class="column">
Your web server Your Solr

</div>
</div>
<div class="layoutArea">
<div class="column">
query box

</div>
</div>
<div class="layoutArea">
<div class="column">
format query; send to Solr;

format results;

</div>
</div>
<div class="layoutArea">
<div class="column">
process query; return results;

</div>
</div>
<div class="layoutArea">
<div class="column">
Solr server supports several clients (different languages). Clients use requests to ask Solr to do things like perform queries or index documents. Client applications can reach Solr by creating HTTP requests and parsing the HTTP responses. Client APIs encapsulate much of the work of sending requests and parsing responses, which makes it much easier to write client applications.

</div>
</div>
<div class="layoutArea">
<div class="column">
2

</div>
</div>
</div>
<div class="page" title="Page 3">
<div class="layoutArea">
<div class="column">
Clients use Solr‚Äôs five fundamental operations to work with Solr. The operations are query, index, delete, commit, and optimize. Queries are executed by creating a URL that contains all the query parameters. Solr examines the request URL, performs the query, and returns the results. The other operations are similar, although in certain cases the HTTP request is a POST operation and contains information beyond whatever is included in the request URL. An index operation, for example, may contain a document in the body of the request.

There are several client APIs available for Solr, refer https://wiki.apache.org/solr/IntegratingSolr. As an example, here we explain how to create a PHP client that accepts input from the user in a HTML form, and sends the request to the Solr server. After the Solr server processes the query, it returns the results which are parsed by the PHP program and formatted for display.

We are using the solr-php-client which is available here https://github.com/PTCInc/solr-php-client . Clone this repository on your computer in the folder where you are developing the user interface.

git clone https://github.com/PTCInc/solr-php-client.git Below is the sample code from the wiki of this repository.

</div>
</div>
<table>
<tbody>
<tr>
<td>
<div class="layoutArea">
<div class="column">
&lt;?php

// make sure browsers see this page as utf-8 encoded HTML

header(‚ÄòContent-Type: text/html; charset=utf-8‚Äô);

$limit = 10;

$query = isset($_REQUEST[‚Äòq‚Äô]) ? $_REQUEST[‚Äòq‚Äô] : false; $results = false;

if ($query) {

// The Apache Solr Client library should be on the include path // which is usually most easily accomplished by placing in the

</div>
</div>
</td>
</tr>
<tr>
<td>
<div class="layoutArea">
<div class="column">
// same directory as this script ( . or current directory is a default // php include path entry in the php.ini) require_once(‚ÄòApache/Solr/Service.php‚Äô);

// create a new solr service instance ‚Äì host, port, and corename // path (all defaults in this example)

</div>
</div>
</td>
</tr>
<tr>
<td>
<div class="layoutArea">
<div class="column">
$solr = new Apache_Solr_Service(‚Äòlocalhost‚Äô, 8983, ‚Äò/solr/core_name/‚Äô);

// if magic quotes is enabled then stripslashes will be needed

if (get_magic_quotes_gpc() == 1) {

$query = stripslashes($query); }

// in production code you‚Äôll always want to use a try /catch for any // possible exceptions emitted by searching (i.e. connection

// problems or a query parsing error)

try

</div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="layoutArea">
<div class="column">
3

</div>
</div>
</div>
<div class="page" title="Page 4">
<table>
<tbody>
<tr>
<td>
<div class="layoutArea">
<div class="column">
{

$results = $solr-&gt;search($query, 0, $limit);

</div>
</div>
</td>
</tr>
<tr>
<td>
<div class="layoutArea">
<div class="column">
}

catch (Exception $e) {

// in production you‚Äôd probably log or email this error to an admin

// and then show a special message to the user but for this example

// we‚Äôre going to show the full exception

die(‚Äú&lt;html&gt;&lt;head&gt;&lt;title&gt;SEARCH EXCEPTION&lt;/title&gt;&lt;body&gt;&lt;pre&gt;{$e-&gt;__toString()}&lt;/pre&gt;&lt;/body&gt;&lt;/html&gt;‚Äù);

</div>
</div>
</td>
</tr>
<tr>
<td>
<div class="layoutArea">
<div class="column">
} }

?&gt; &lt;html&gt;

&lt;head&gt;

</div>
</div>
</td>
</tr>
<tr>
<td>
<div class="layoutArea">
<div class="column">
&lt;title&gt;PHP Solr Client Example&lt;/title&gt; &lt;/head&gt;

&lt;body&gt;

</div>
</div>
</td>
</tr>
<tr>
<td>
<div class="layoutArea">
<div class="column">
&lt;form accept-charset=‚Äùutf-8‚Ä≥ method=‚Äùget‚Äù&gt;

&lt;label for=‚Äùq‚Äù&gt;Search:&lt;/label&gt;

&lt;input id=‚Äùq‚Äù name=‚Äùq‚Äù type=‚Äùtext‚Äù value=‚Äù&lt;?php echo htmlspecialchars($query, ENT_QUOTES, ‚Äòutf-8‚Äô); ?&gt;‚Äù/&gt; &lt;input type=‚Äùsubmit‚Äù/&gt;

&lt;/form&gt; &lt;?php

// display results

if ($results) {

$total = (int) $results-&gt;response-&gt;numFound; $start = min(1, $total);

$end = min($limit, $total);

?&gt;

&lt;div&gt;Results &lt;?php echo $start; ?&gt; ‚Äì &lt;?php echo $end;?&gt; of &lt;?php echo $total; ?&gt;:&lt;/div&gt; &lt;ol&gt;

&lt;?php

</div>
</div>
</td>
</tr>
<tr>
<td>
<div class="layoutArea">
<div class="column">
// iterate result documents

foreach ($results-&gt;response-&gt;docs as $doc)

{ ?&gt;

</div>
</div>
<div class="layoutArea">
<div class="column">
&lt;li&gt;

&lt;table style=‚Äùborder: 1px solid black; text-align: left‚Äù&gt;

</div>
</div>
</td>
</tr>
<tr>
<td>
<div class="layoutArea">
<div class="column">
&lt;?php

// iterate document fields / values

foreach ($doc as $field =&gt; $value)

{ ?&gt;

&lt;/tr&gt; &lt;?php

} ?&gt;

</div>
</div>
<div class="layoutArea">
<div class="column">
&lt;tr&gt;

&lt;th&gt;&lt;?php echo htmlspecialchars($field, ENT_NOQUOTES, ‚Äòutf-8‚Äô); ?&gt;&lt;/th&gt; &lt;td&gt;&lt;?php echo htmlspecialchars($value, ENT_NOQUOTES, ‚Äòutf-8‚Äô); ?&gt;&lt;/td&gt;

</div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="layoutArea">
<div class="column">
4

</div>
</div>
</div>
<div class="page" title="Page 5">
<table>
<tbody>
<tr>
<td>
<div class="layoutArea">
<div class="column">
&lt;/table&gt; &lt;/li&gt;

</div>
</div>
</td>
</tr>
<tr>
<td>
<div class="layoutArea">
<div class="column">
&lt;?php }

?&gt; &lt;/ol&gt;

&lt;?php }

?&gt;

</div>
</div>
</td>
</tr>
<tr>
<td>
<div class="layoutArea">
<div class="column">
&lt;/body&gt; &lt;/html&gt;

</div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="layoutArea">
<div class="column">
In order to provide additional parameters to the Solr server, create an array of these parameters as shown below:

</div>
</div>
<table>
<tbody>
<tr>
<td>
<div class="layoutArea">
<div class="column">
$additionalParameters = array( ‚Äòfq‚Äô =&gt; ‚Äòa filtering query‚Äô,

</div>
</div>
</td>
</tr>
<tr>
<td>
<div class="layoutArea">
<div class="column">
‚Äòfacet‚Äô =&gt; ‚Äòtrue‚Äô,

// notice I use an array for a multi-valued parameter ‚Äòfacet.field‚Äô =&gt; array(

‚Äòfield_1‚Äô,

‚Äòfield_2‚Äô

) );

$results = $solr-&gt;search($query, $start, $rows, $additionalParameters);

</div>
</div>
</td>
</tr>
</tbody>
</table>
<div class="layoutArea">
<div class="column">
Step 2

In this step you are going to run a series of queries on the Solr index. The comparison now will be to use two different ranking algorithms.

Solr uses

</div>
</div>
<div class="section">
<div class="layoutArea">
<div class="column">
Lucene to facilitate ranking. Lucene uses a combination of the Vector Space Model and the

</div>
</div>
<div class="layoutArea">
<div class="column">
Boolean model to determine how relevant a given document is to a user‚Äôs query. The vector space model

</div>
</div>
<div class="layoutArea">
<div class="column">
is based on term frequency. The Boolean model is first used to narrow down the documents that need to

</div>
</div>
<div class="layoutArea">
<div class="column">
be scored based on the use of Boolean logic in the query specification.

</div>
</div>
</div>
<div class="section">
<div class="layoutArea">
<div class="column">
Solr permits us to change the ranking algorithm. This gives us an opportunity to use the PageRank

</div>
</div>
<div class="layoutArea">
<div class="column">
algorithm and see how the results differ. There are several ways to manipulate the ranking of a document

</div>
</div>
<div class="layoutArea">
<div class="column">
in Solr. Here, we explain the method which uses a field that refers to an External File that stores the

</div>
</div>
<div class="layoutArea">
<div class="column">
PageRank scores. This external file basically contains a mapping from a key field to the field value.

</div>
</div>
</div>
<div class="layoutArea">
<div class="column">
In order to create this External File you must first carry out the PageRank process on the set of web pages

</div>
</div>
<div class="layoutArea">
<div class="column">
assigned to you. There are several libraries available to help you compute the PageRank given a graph.

</div>
</div>
<div class="layoutArea">
<div class="column">
One of them is the NetworkX library ‚Äì

</div>
</div>
<div class="layoutArea">
<div class="column">
https://pypi.python.org/pypi/networkx/

</div>
</div>
<div class="layoutArea">
<div class="column">
5

</div>
</div>
</div>
<div class="page" title="Page 6">
<div class="layoutArea">
<div class="column">
This PageRank function takes a NetworkX graph (http://networkx.github.io/documentation/networkx-

</div>
</div>
<div class="layoutArea">
<div class="column">
1.10/reference/classes.digraph.html#networkx.DiGraph) as input and returns a dictionary of graph nodes

</div>
</div>
<div class="layoutArea">
<div class="column">
with corresponding PageRank scores. These are the steps you would need to perform:

</div>
</div>
<div class="section">
<div class="layoutArea">
<div class="column">
Compute the incoming and outgoing links to the web pages, and create a NetworkX graph

</div>
</div>
<div class="layoutArea">
<div class="column">
Loop through each webpage copied to the directory and extract the outgoing links.

</div>
</div>
<div class="layoutArea">
<div class="column">
We have provided mapping files for each dataset, which contains mappings from

</div>
</div>
<div class="layoutArea">
<div class="column">
webpage files with encoded names to their true URLs. Use these mappings to filter out

</div>
</div>
<div class="layoutArea">
<div class="column">
URLs that are not present in the mapping file. This can arise if the URL is pointing to a

</div>
</div>
<div class="layoutArea">
<div class="column">
resource outside the news website domain or if it is not an HTML file.

</div>
</div>
<div class="layoutArea">
<div class="column">
Create a directed graph using the mapping file and extracted URLs. Vertices in the graph

</div>
</div>
<div class="layoutArea">
<div class="column">
are webpage files and detected edge between two files represent a link between two.

</div>
</div>
<div class="layoutArea">
<div class="column">
(i.e. There is an edge between a.html and b.html if a.html has an outgoing link for b.html)

</div>
</div>
</div>
<div class="layoutArea">
<div class="column">
i.

a.

b.

c.

[We have provided detailed guidelines on how to compute PageRank in the appendix section.]

ii.

alpha=0.85, personalization=None, max_iter=30, tol=1e-06, nstart=None, weight=‚Äôweight‚Äô,dangling=None

</div>
</div>
<div class="layoutArea">
<div class="column">
Note: You can use an external library to extract links from download webpages. We have provided an

</div>
</div>
<div class="layoutArea">
<div class="column">
example on how to use JSoup in

</div>
</div>
<div class="layoutArea">
<div class="column">
http://www-scf.usc.edu/~csci572/2019Spring/hw4/

</div>
</div>
<div class="layoutArea">
<div class="column">
ExtractingLinks.pdf

</div>
</div>
<div class="layoutArea">
<div class="column">
Compute the PageRank for this graph and store this in a file in the format

</div>
</div>
<div class="layoutArea">
<div class="column">
&lt;document_id&gt;=&lt;page_rank_score&gt;

</div>
</div>
<div class="layoutArea">
<div class="column">
You should use the following parameters:

</div>
</div>
<div class="layoutArea">
<div class="column">
Make sure the document id is the same as the one which is present in your index. In your Solr index, you

</div>
</div>
<div class="layoutArea">
<div class="column">
would typically have the filename as the id as shown below:

</div>
</div>
<div class="section">
<div class="layoutArea">
<div class="column">
Once you have computed the PageRank scores, you need to place this file in the data folder of the core

</div>
</div>
<div class="layoutArea">
<div class="column">
you have defined. This can be found in the path solr-7.x.x/server/solr/core_name/. The name of the file

</div>
</div>
<div class="layoutArea">
<div class="column">
should be external_fieldname or external_fieldname.*. For this example the file could be

</div>
</div>
<div class="layoutArea">
<div class="column">
named external_pageRankFile or external_pageRankFile.txt.

</div>
</div>
</div>
<div class="layoutArea">
<div class="column">
The next step is to add the field in the managed-schema which refers to this score.

</div>
</div>
<div class="layoutArea">
<div class="column">
6

</div>
</div>
</div>
<div class="page" title="Page 7">
<div class="layoutArea">
<div class="column">
&lt;fieldType name=‚Äùexternal‚Äù keyField=‚Äùid‚Äù defVal=‚Äù0‚Äù class=‚Äùsolr.ExternalFileField‚Äù/&gt;

</div>
</div>
<div class="layoutArea">
<div class="column">
<pre>&lt;field name=‚ÄùpageRankFile‚Äù type=‚Äùexternal‚Äù stored=‚Äùfalse‚Äù indexed=‚Äùfalse‚Äù/&gt;
</pre>
</div>
</div>
<div class="section">
<div class="layoutArea">
<div class="column">
We are defining a field ‚ÄúpageRankFile‚Äù which is of the type ‚Äúexternal‚Äù. The field name should be the suffix

</div>
</div>
<div class="layoutArea">
<div class="column">
after ‚Äúexternal_‚Äù you provided for your file in the previous step. The keyField attribute defines the key

</div>
</div>
<div class="layoutArea">
<div class="column">
that will be defined in the external file. It is usually the unique key for the index. A defVal defines a default

</div>
</div>
<div class="layoutArea">
<div class="column">
value that will be used if there is no entry in the external file for a particular document.

</div>
</div>
<div class="layoutArea">
<div class="column">
The valType attribute specifies the actual type of values that will be found in the file. The type specified

</div>
</div>
<div class="layoutArea">
<div class="column">
must be either a float field type, so valid values for this attribute are pfloat, float or tfloat. This attribute

</div>
</div>
<div class="layoutArea">
<div class="column">
can be omitted.

</div>
</div>
</div>
<div class="section">
<div class="layoutArea">
<div class="column">
Once the field has been defined, we need to make sure that when the index is reloaded, it is able to access

</div>
</div>
<div class="layoutArea">
<div class="column">
the rank file. In order to do that, there are some modifications required in the solrconfig.xml file. We need

</div>
</div>
<div class="layoutArea">
<div class="column">
to define eventListeners to reload the external file when either a searcher is loaded or when a new

</div>
</div>
<div class="layoutArea">
<div class="column">
searcher is started. The searcher is basically a Lucene class which enables searching across the Lucene

</div>
</div>
<div class="layoutArea">
<div class="column">
index. Define these listeners within the &lt;query&gt; element in the solrconfig.xml file.

</div>
</div>
</div>
<div class="layoutArea">
<div class="column">
Now reload the index, by going to the Solr Dashboard UI -&gt;Core Admin and clicking on the ‚ÄúReload‚Äù

</div>
</div>
<div class="layoutArea">
<div class="column">
button.

</div>
</div>
<div class="layoutArea">
<div class="column">
Now, you can run the queries and compare the results with and without PageRank scores. In the Solr

</div>
</div>
<div class="layoutArea">
<div class="column">
query view, there is a ‚Äúsort‚Äù text field, where you can specify the field on which the results have to be

</div>
</div>
<div class="layoutArea">
<div class="column">
sorted along with the order (ascending, descending)

</div>
</div>
<div class="layoutArea">
<div class="column">
For example, in the below screenshot I have created an external file and added PageRank scores for a few

</div>
</div>
<div class="layoutArea">
<div class="column">
documents in the index.

</div>
</div>
<div class="layoutArea">
<div class="column">
‚Äú/home/solr-7.x.x/CrawlData/E0-001-086391282-0.html‚Äù is the id of the file that has been indexed. The

</div>
</div>
<div class="layoutArea">
<div class="column">
values indicate the PageRank scores.

</div>
</div>
<div class="layoutArea">
<div class="column">
The following screenshot consists of the results which uses Solr‚Äôs internal ranking algorithm based on tf-

</div>
</div>
<div class="layoutArea">
<div class="column">
idf for the default query ‚Äú*:*‚Äù. For the sake of clarity, only the ids have been displayed.

</div>
</div>
<div class="layoutArea">
<div class="column">
7

</div>
</div>
</div>
<div class="page" title="Page 8">
<div class="layoutArea">
<div class="column">
The next screenshot is the result of the default query again, but with the ranking based on PageRank that

</div>
</div>
<div class="layoutArea">
<div class="column">
was defined in the external file.

</div>
</div>
<div class="layoutArea">
<div class="column">
8

</div>
</div>
</div>
<div class="page" title="Page 9">
<div class="layoutArea">
<div class="column">
Comparing the two results we can see that the order of the results has changed. The file ending with ‚ÄúE0-

</div>
</div>
<div class="layoutArea">
<div class="column">
001-079680609-8.html‚Äù is the first result in the PageRank scoring results, as we had defined a high

</div>
</div>
<div class="layoutArea">
<div class="column">
score(5.5) for it in the external file.

</div>
</div>
<div class="layoutArea">
<div class="column">
Once that is done you should run the same set of queries and save the results.

Step 3

Compare the results of the two ranking algorithms.

The Queries

All of the news sites that you have crawled divide their articles into the following set of categories: world, business, sports, tech, nation, politics, opinion, and travel (there may be other categories as well). You should use the queries below to test out the two ranking strategies.

Query

Cannes Congress Democrats

</div>
</div>
<div class="layoutArea">
<div class="column">
9

</div>
</div>
</div>
<div class="page" title="Page 10">
<div class="layoutArea">
<div class="column">
Patriot Movement Republicans Senate

Olympics 2020 Stock

Virus

</div>
</div>
<div class="layoutArea">
<div class="column">
Appendix

</div>
</div>
<div class="layoutArea">
<div class="column">
The following section provides the summary of steps one can follow to compute PageRank for the downloaded files.

1) Iterate through each file in the directly that has all the downloaded html files to create the web graph structure.

In each file:

<ol>
<li>a) &nbsp;Extract outgoing links</li>
<li>b) &nbsp;Find the file name for each outgoing link using the provided map* files</li>
<li>c) &nbsp;Create edges between files that have links connecting them (You can either use the
edgelist or the adjacency list format when creating edges, see https://networkx.github.io/documentation/networkx-1.10/reference/readwrite.html)
</li>
</ol>
Following is an example code that creates an edgelist from downloaded files.

Note: We have used the map* files to create the fileUrlMap and urlFileMap data structures.

</div>
</div>
<div class="layoutArea">
<div class="column">
10

</div>
</div>
</div>
<div class="page" title="Page 11">
<div class="layoutArea">
<div class="column">
2) Load the web graph to networkx

&gt;&gt; G = nx.read_edgelist(‚ÄúedgeList.txt‚Äù, create_using=nx.DiGraph())

Note- provide absolute path for ‚ÄúedgeList.txt‚Äù

3) Compute PageRank

See: https://networkx.github.io/documentation/networkx- 1.10/reference/generated/networkx.algorithms.link_analysis.pagerank_alg.pagerank.html?highlight=pa gerank

</div>
</div>
<div class="layoutArea">
<div class="column">
11

</div>
</div>
</div>
